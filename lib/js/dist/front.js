!function(){"use strict";function e(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}window.Persistence&&Persistence.isAvailable()&&Persistence.removeItem("AnkiSetRandomizerOptions");const t={openDelim:"%INPUTOPENDELIM%",closeDelim:"%INPUTCLOSEDELIM%",fieldSeparator:"%INPUTFIELDSEPARATOR%"},i={openDelim:"%OUTPUTOPENDELIM%",closeDelim:"%OUTPUTCLOSEDELIM%",fieldSeparator:"%OUTPUTFIELDSEPARATOR%"},r=((s={query:"%QUERY%".startsWith("%")?"div#main":"%QUERY%",colors:"%COLORS%".startsWith("%")?["orange","olive","maroon","aqua","fuchsia"]:"%COLORS%".split(",").map(e=>e.trim()),fieldPadding:"%FIELDPADDING%".startsWith("%")?"4px":"%FIELDPADDING%",inputSyntax:{openDelim:t.openDelim.startsWith("%")?"(^":t.openDelim,closeDelim:t.closeDelim.startsWith("%")?"^)":t.closeDelim,fieldSeparator:t.fieldSeparator.startsWith("%")?"::":t.fieldSeparator},outputSyntax:{openDelim:i.openDelim.startsWith("%")?"〔":i.openDelim,closeDelim:i.closeDelim.startsWith("%")?"〕":i.closeDelim,fieldSeparator:i.fieldSeparator.startsWith("%")?"":i.fieldSeparator}})?window.Persistence&&Persistence.isAvailable()&&Persistence.setItem("AnkiSetRandomizerOptions",s):window.Persistence&&Persistence.isAvailable()&&(s=Persistence.getItem("AnkiSetRandomizerOptions"),Persistence.removeItem("AnkiSetRandomizerOptions")),{getOriginalStructure:function(){const t=RegExp(`(?:${e(s.inputSyntax.openDelim)})(.*?)(?:${e(s.inputSyntax.closeDelim)})`,"gm"),i=document.querySelector(s.query).innerHTML,r=[];let n=t.exec(i);for(;n;)r.push(n[1]),n=t.exec(i);const o=[];for(const[e,t]of r.entries())o.push(t.split(s.inputSyntax.fieldSeparator).map((t,i)=>[e,i,t]));return o}});var s;try{const e=r.getOriginalStructure();console.log(e)}catch(e){alert(`anki-set-randomizer: ${e}.`)}}();
